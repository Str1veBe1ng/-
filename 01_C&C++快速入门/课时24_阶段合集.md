# 课时24：C/C++快速入门阶段合集

## 本章总结

本章覆盖了C/C++编程的核心基础知识，为后续的安全开发打下坚实基础。

---

## 知识图谱

### C语言基础

```
└── C语言基础
    ├── 环境配置
    │   ├── Visual Studio
    │   ├── MinGW/MSYS2
    │   └── 编译选项
    ├── 数据类型
    │   ├── 基本类型 (int, float, char...)
    │   ├── 指针
    │   ├── 数组
    │   └── 结构体/联合体/枚举
    ├── 流程控制
    │   ├── 选择结构 (if, switch)
    │   ├── 循环结构 (for, while)
    │   └── 跳转 (break, continue, goto)
    ├── 运算符
    │   ├── 算术运算符
    │   ├── 逻辑运算符
    │   └── 位运算符 (重要!)
    ├── 函数
    │   ├── 函数定义与调用
    │   ├── 参数传递
    │   ├── 递归
    │   └── 函数指针
    ├── 内存管理
    │   ├── malloc/free
    │   └── VirtualAlloc/HeapAlloc
    ├── 文件操作
    │   ├── 文本文件
    │   └── 二进制文件
    └── 预处理
        ├── 宏定义
        └── 条件编译
```

### C++特性

```
└── C++特性
    ├── 面向对象
    │   ├── 类与对象
    │   ├── 封装
    │   ├── 继承
    │   └── 多态 (虚函数)
    ├── 运算符重载
    └── 异常处理
        ├── C++ try/catch
        └── Windows SEH
```

---

## 关键技能检查表

### 基础篇
- [ ] 能够配置Windows/Linux开发环境
- [ ] 理解二进制、十六进制及其转换
- [ ] 掌握各种数据类型及其范围
- [ ] 熊练使用位运算操作标志位
- [ ] 能够编写递归算法

### 进阶篇
- [ ] 掌握指针与内存管理
- [ ] 能够使用Windows API操作文件和内存
- [ ] 理解结构体内存对齐
- [ ] 掌握函数指针与回调

### C++篇
- [ ] 能够设计封装良好的类
- [ ] 理解虚函数表结构
- [ ] 掌握RAII资源管理模式
- [ ] 能够处理异常和SEH

---

## 安全开发相关要点

### 必须掌握
1. **位运算** - 标志位操作、权限检查、XOR加密
2. **指针** - 内存操作、结构体解析、函数指针
3. **内存管理** - VirtualAlloc、堆分配、内存属性
4. **结构体** - PE结构、协议包、内存布局
5. **虚函数表** - vtable寻址、Hook基础
6. **异常处理** - SEH、VEH、异常代码执行

### 常用Windows类型
```c
// 必记类型
BYTE    // unsigned char, 1字节
WORD    // unsigned short, 2字节
DWORD   // unsigned long, 4字节
QWORD   // unsigned __int64, 8字节
HANDLE  // 句柄
LPVOID  // void*
LPCSTR  // const char*
LPCWSTR // const wchar_t*
```

---

## 下一步学习

完成本章后，应继续学习：

1. **x86/x64汇编** - 理解底层执行原理
2. **软件逆向** - 分析程序结构
3. **Win32编程** - 深入Windows API
4. **PE结构** - 可执行文件格式

---

## 常见错误与避坑

| 错误 | 解决方案 |
|------|----------|
| 缓冲区溢出 | 使用strncpy/snprintf |
| 内存泄漏 | 使用RAII或智能指针 |
| 野指针 | 初始化为NULL，释放后置NULL |
| 整数溢出 | 检查边界，使用安全函数 |
| 句柄泄漏 | 封装句柄类，自动关闭 |
| 类型混淆 | 明确使用Windows类型 |

---

## 练习项目建议

1. 实现一个简单的十六进制编辑器
2. 实现内存块复制工具 (memcpy测试)
3. 实现简单的配置文件解析器
4. 封装一个资源管理类 (HANDLE, FILE等)
5. 实现一个简单的插件系统
